#
# Basic directories
#

dir /    0111 0 0
dir /bin 0555 0 0
dir /dev 0000 0 0
dir /lib 0111 0 0


#
# Console device so we can interact with the system before devfs is mounted
#

nod /dev/console 0600 0 0 c 5 1


#
# Node.js required shared libraries
#

# musl

file  /lib/libc.so                  $TOOLS/$TARGET/lib/libc.so 0555 0 0
slink /lib/ld-musl-$CPU_FAMILY.so.1 libc.so                    0555 0 0

# gcc

file /lib/libgcc_s.so.1       $TOOLS/$TARGET/lib/libgcc_s.so.1       0444 0 0
file /lib/libstdc++.so.6.0.17 $TOOLS/$TARGET/lib/libstdc++.so.6.0.17 0444 0 0

slink /lib/libstdc++.so.6 libstdc++.so.6.0.17 0444 0 0


#
# Node.js binary
#

file /bin/node $OUT_DIR/node 0555 0 0


#
# Set Node.js as /init
#

slink /init bin/node 0100 0 0
